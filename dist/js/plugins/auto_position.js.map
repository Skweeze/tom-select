{"version":3,"file":"auto_position.js","sources":["../../../src/plugins/auto_position/plugin.ts"],"sourcesContent":["import TomSelect from \"../../tom-select\";\n\nexport default function (this: TomSelect) {\n\tvar self = this;\n\n\tconst POSITION = {\n\t\ttop: \"top\",\n\t\tbottom: \"bottom\",\n\t};\n\n\tself.positionDropdown = (function () {\n\t\treturn function () {\n\t\t\tconst offset =\n\t\t\t\tself.settings.dropdownParent === \"body\"\n\t\t\t\t\t? {\n              top: self.control.getBoundingClientRect().top,\n              lefy: self.control.getBoundingClientRect().left\n          }\n\t\t\t\t\t: {\n            top: self.control.offsetTop,\n            left: self.control.offsetLeft,\n          };\n\t\t\toffset.top += self.control.getBoundingClientRect().height;\n\n\t\t\tconst dropdownHeight = self.dropdown.scrollHeight + 5; // 5 - padding value;\n\t\t\tconst controlPosTop = self.control.getBoundingClientRect().top;\n\t\t\tconst wrapperHeight = self.wrapper.getBoundingClientRect().height;\n\t\t\tconst position =\n\t\t\t\tcontrolPosTop + dropdownHeight + wrapperHeight >\n\t\t\t\twindow.innerHeight\n\t\t\t\t\t? POSITION.top\n\t\t\t\t\t: POSITION.bottom;\n\t\t\tconst styles = {\n\t\t\t\twidth: self.control.getBoundingClientRect().width,\n\t\t\t\tleft: offset.left,\n\t\t\t};\n\n\t\t\tif (position === POSITION.top) {\n\t\t\t\tObject.assign(styles, {\n\t\t\t\t\tbottom: offset.top + 'px',\n\t\t\t\t\ttop: \"unset\",\n\t\t\t\t\tmargin: \"0 0 5px 0\",\n          display: \"none\"\n\t\t\t\t});\n\t\t\t\tself.dropdown.classList.add(\"selectize-position-top\");\n\t\t\t} else {\n\t\t\t\tObject.assign(styles, {\n\t\t\t\t\ttop: offset.top + 'px',\n\t\t\t\t\tbottom: \"unset\",\n\t\t\t\t\tmargin: \"5px 0 0 0\",\n          display: \"none\"\n\t\t\t\t});\n\t\t\t\tself.dropdown.classList.remove(\"selectize-position-top\");\n\t\t\t}\n\n      Object.assign(self.dropdown.style, styles);\n\t\t};\n\t})();\n}\n"],"names":["self","POSITION","top","bottom","positionDropdown","offset","settings","dropdownParent","control","getBoundingClientRect","lefy","left","offsetTop","offsetLeft","height","dropdownHeight","dropdown","scrollHeight","controlPosTop","wrapperHeight","wrapper","position","window","innerHeight","styles","width","Object","assign","margin","display","classList","add","remove","style"],"mappings":";;;;;;;;;;;CAEe,eAA2B,IAAA;GACzC,IAAIA,IAAI,GAAG,IAAX,CAAA;CAEA,EAAA,MAAMC,QAAQ,GAAG;CAChBC,IAAAA,GAAG,EAAE,KADW;CAEhBC,IAAAA,MAAM,EAAE,QAAA;IAFT,CAAA;;GAKAH,IAAI,CAACI,gBAAL,GAAyB,YAAY;CACpC,IAAA,OAAO,YAAY;OAClB,MAAMC,MAAM,GACXL,IAAI,CAACM,QAAL,CAAcC,cAAd,KAAiC,MAAjC,GACG;CACOL,QAAAA,GAAG,EAAEF,IAAI,CAACQ,OAAL,CAAaC,qBAAb,GAAqCP,GADjD;CAEOQ,QAAAA,IAAI,EAAEV,IAAI,CAACQ,OAAL,CAAaC,qBAAb,EAAqCE,CAAAA,IAAAA;CAFlD,OADH,GAKG;CACKT,QAAAA,GAAG,EAAEF,IAAI,CAACQ,OAAL,CAAaI,SADvB;CAEKD,QAAAA,IAAI,EAAEX,IAAI,CAACQ,OAAL,CAAaK,UAAAA;QAR5B,CAAA;OAUAR,MAAM,CAACH,GAAP,IAAcF,IAAI,CAACQ,OAAL,CAAaC,qBAAb,EAAA,CAAqCK,MAAnD,CAAA;OAEA,MAAMC,cAAc,GAAGf,IAAI,CAACgB,QAAL,CAAcC,YAAd,GAA6B,CAApD,CAbkB;;OAclB,MAAMC,aAAa,GAAGlB,IAAI,CAACQ,OAAL,CAAaC,qBAAb,GAAqCP,GAA3D,CAAA;OACA,MAAMiB,aAAa,GAAGnB,IAAI,CAACoB,OAAL,CAAaX,qBAAb,GAAqCK,MAA3D,CAAA;CACA,MAAA,MAAMO,QAAQ,GACbH,aAAa,GAAGH,cAAhB,GAAiCI,aAAjC,GACAG,MAAM,CAACC,WADP,GAEGtB,QAAQ,CAACC,GAFZ,GAGGD,QAAQ,CAACE,MAJb,CAAA;CAKA,MAAA,MAAMqB,MAAM,GAAG;CACdC,QAAAA,KAAK,EAAEzB,IAAI,CAACQ,OAAL,CAAaC,qBAAb,GAAqCgB,KAD9B;SAEdd,IAAI,EAAEN,MAAM,CAACM,IAAAA;QAFd,CAAA;;CAKA,MAAA,IAAIU,QAAQ,KAAKpB,QAAQ,CAACC,GAA1B,EAA+B;CAC9BwB,QAAAA,MAAM,CAACC,MAAP,CAAcH,MAAd,EAAsB;CACrBrB,UAAAA,MAAM,EAAEE,MAAM,CAACH,GAAP,GAAa,IADA;CAErBA,UAAAA,GAAG,EAAE,OAFgB;CAGrB0B,UAAAA,MAAM,EAAE,WAHa;CAIhBC,UAAAA,OAAO,EAAE,MAAA;UAJf,CAAA,CAAA;CAMA7B,QAAAA,IAAI,CAACgB,QAAL,CAAcc,SAAd,CAAwBC,GAAxB,CAA4B,wBAA5B,CAAA,CAAA;CACA,OARD,MAQO;CACNL,QAAAA,MAAM,CAACC,MAAP,CAAcH,MAAd,EAAsB;CACrBtB,UAAAA,GAAG,EAAEG,MAAM,CAACH,GAAP,GAAa,IADG;CAErBC,UAAAA,MAAM,EAAE,OAFa;CAGrByB,UAAAA,MAAM,EAAE,WAHa;CAIhBC,UAAAA,OAAO,EAAE,MAAA;UAJf,CAAA,CAAA;CAMA7B,QAAAA,IAAI,CAACgB,QAAL,CAAcc,SAAd,CAAwBE,MAAxB,CAA+B,wBAA/B,CAAA,CAAA;CACA,OAAA;;OAEEN,MAAM,CAACC,MAAP,CAAc3B,IAAI,CAACgB,QAAL,CAAciB,KAA5B,EAAmCT,MAAnC,CAAA,CAAA;MA5CJ,CAAA;CA8CA,GA/CuB,EAAxB,CAAA;CAgDA;;;;;;;;"}